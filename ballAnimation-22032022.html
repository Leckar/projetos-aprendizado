<canvas id="tela" width="500" height="500"></canvas>

<script>

    var painel = document.getElementById('tela');
    var pincel = painel.getContext('2d');

    function pintaBola(x, y, r, color){

        pincel.fillStyle = color;
        pincel.beginPath();
        pincel.arc(x, y, r, 0, 2*Math.PI);
        pincel.fill();

    }

    let x = 20;
    let y = 20;
    let color = ['red', 'yellow', 'green'];
    
    function checagemDirecao(){
        
        let z
        if(x == 20 && y > 20){

            y--;

        } else if(x == 480 && y < 480) {

            y++;
        
        } else if(y == 480 && x <= 480) {

            x--;
        
        } else if(x < 480 && y == 20) {

            x++;
        
        }

        if(x % 2 == 0 && y % 2 == 0) {

            z = 0
        } else if(x % 2 != 0 && y % 2 == 0) {

            z = 1
        } else if(x % 2 == 0 && y % 2 != 0) {

            z = 2
        }

        pincel.clearRect(0, 0, painel.width, painel.height);
        pintaBola(x, y, 10, color[z]);

    }

    setInterval(checagemDirecao, 10);
  

</script>
